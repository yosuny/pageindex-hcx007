# RAG 기술 비교 분석: PageIndex vs Vector RAG vs KG-RAG

> 이 문서는 **PageIndex**, **전통적 벡터 기반 RAG**, **온톨로지 기반 지식 그래프 RAG (KG-RAG)** 세 가지 기술의 특징과 장단점을 비교 분석합니다.

---

## 📋 개요

이 세 가지 기술은 **"질문(Query)에 맞는 정보를 어떻게 찾을 것인가?"**에 대한 접근 방식(자료구조 및 검색 알고리즘)의 차이입니다.

---

## 🔎 비교 요약 (Comparison Table)

| 구분 | **PageIndex (Vectorless)** | **Vector RAG (Traditional)** | **Ontology KG-RAG (Graph)** |
| :--- | :--- | :--- | :--- |
| **핵심 구조** | **트리 (Tree)** <br> (문서 목차/구조 기반) | **벡터 (Vector)** <br> (텍스트 청크의 임베딩) | **그래프 (Graph)** <br> (엔티티+관계+온톨로지) |
| **검색 방식** | **추론 (Reasoning)** <br> (LLM이 목차를 타고 내려감) | **유사도 (Similarity)** <br> (수학적 거리 계산: Cosine) | **탐색 (Traversal)** <br> (노드 간 연결 관계 추적) |
| **청킹(Chunking)** | **없음 (No Chunking)** <br> (의미 단위 섹션 유지) | **필수 (Hard Chunking)** <br> (길이 기반 자르기) | **엔티티 추출** <br> (지식 단위로 분해) |
| **맥락(Context)** | **전체 구조 및 흐름 보존** | **파편화됨 (Fragmented)** <br> (앞뒤 맥락 소실 가능성) | **관계적 맥락 강화** <br> (A와 B의 관계 중심) |
| **장점** | 긴 문서의 정밀 탐색,<br>설명 가능성(Explainability) | 빠른 속도, 구현 용이성,<br>비정형 텍스트에 강함 | 복합 추론(Multi-hop),<br>환각 방지, 정확한 관계 파악 |
| **단점** | LLM 호출 비용/속도,<br>구조 없는 글에 취약 | 유사도≠관련성 문제,<br>맥락 절단으로 인한 오답 | 구축 난이도 최상(Schema),<br>높은 비용, 유연성 부족 |
| **최적 활용** | **재무 리포트, 논문, 매뉴얼**<br>(구조가 명확한 긴 문서) | **위키, 블로그, FAQ**<br>(단편적 지식 검색) | **의료, 법률, 범죄 수사**<br>(개체 간 관계 규명이 핵심) |

---

## 1. PageIndex (Vectorless, Tree-based)

> **"인간처럼 목차를 보고 찾아가는 방식"**

### 작동 원리
문서를 분석하여 계층적 트리(Tree) 구조(목차 형태)를 만듭니다. 질문이 들어오면 LLM이 상위 노드(대주제)에서 하위 노드(소주제)로 선택하며 내려가는 추론 과정을 거칩니다.

### 특장점
- **문맥 완전성**: 문서를 인위적으로 자르지 않기 때문에 보고서의 '결론'이 '서론'과 어떻게 연결되는지 등 문서 전체의 흐름을 놓치지 않습니다.
- **높은 정확도 (Relevance)**: "단어가 비슷한 것"을 찾는 게 아니라 "맥락상 맞는 곳"을 찾으므로, 전문 용어가 섞인 복잡한 문서(예: SEC Filings)에서 매우 강력합니다.
- **설명 가능성**: "왜 이 답을 가져왔는가?"에 대해 "2장 3절을 참조했음"처럼 명확한 경로를 제시할 수 있습니다.

### 한계
- 모든 단계에서 LLM 추론이 개입하므로 단순 벡터 검색보다 속도가 느리고 비용이 더 발생할 수 있습니다.

### 성능 입증
- 금융 문서 분석 벤치마크인 **FinanceBench**에서 **98.7%의 정확도**를 달성하며 기존 RAG 시스템을 크게 상회하는 SOTA(State-of-the-art) 성능을 입증했습니다.

---

## 2. 전통적인 벡터 기반 RAG (Vector RAG)

> **"단어의 뉘앙스(임베딩)가 비슷한 조각을 찾는 방식"**

### 작동 원리
긴 문서를 일정한 길이(예: 500자)로 잘라(Chunking) 벡터로 변환(Embedding)해 DB에 저장합니다. 질문이 들어오면 질문과 벡터 공간상 거리가 가장 가까운 텍스트 조각을 가져옵니다.

### 특장점
- **속도와 확장성**: 수억 개의 문서 중에서도 0.1초 안에 유사한 문장을 찾아낼 수 있을 만큼 빠르고, 기술 스택이 성숙되어 있습니다.
- **범용성**: 문서의 구조가 없거나 난잡한 텍스트 데이터(채팅 로그 등)를 처리하는 데 가장 적합합니다.

### 한계
- **맥락 절단**: 문장이 *'그래서 결과는...'* 하고 잘려서 다른 청크로 넘어가면, 정작 중요한 결론을 놓칠 수 있습니다.
- **유사도 함정**: 질문과 단어는 비슷하지만, 뜻은 정반대인 문장(긍정 vs 부정)을 가져오는 경우가 빈번합니다.

---

## 3. 온톨로지 기반 KG-RAG (Knowledge Graph)

> **"개체 간의 관계 지도를 그려 추리하는 방식"**

### 작동 원리
"이순신(Entity)은 -> 조선(Entity)의 -> 장군(Entity)이다"와 같이 정보의 최소 단위를 추출하여 그래프로 연결합니다. 미리 정의된 규칙(Ontology)에 따라 지식을 구조화합니다.

### 특장점
- **멀티 홉(Multi-hop) 추론**: "스티브 잡스가 창업한 회사의 현재 CEO는 누구인가?" 처럼 A->B->C로 꼬리를 무는 질문에 대해, 그래프를 타고 이동하며 정확한 답을 찾을 수 있습니다. 벡터나 PageIndex는 이런 파편화된 사실 연결에 상대적으로 약합니다.
- **엄밀성**: 답변이 그래프에 존재하는 '사실(Fact)'에 기반하므로 환각(Hallucination)이 가장 적습니다.

### 한계
- **구축 비용**: 온톨로지(스키마) 설계가 매우 어렵고, 비정형 텍스트를 그래프로 변환하는 전처리 과정(Extraction)의 비용과 난이도가 매우 높습니다.

---

## 💡 결론: 언제 무엇을 써야 할까요?

### 1. PageIndex
**"하나의 긴 문서(Long Context)를 깊이 있게 파악해야 할 때"**
- 예: 수백 페이지짜리 투자 설명서를 넣고 "이 회사의 3분기 리스크 요인이 2분기 대비 어떻게 변했나?"를 물을 때.

### 2. Vector RAG
**"방대한 양의 단편적 지식에서 빠르게 정보를 찾아야 할 때"**
- 예: 사내 위키에서 "휴가 신청 규정"을 찾거나, 고객 상담 내역을 검색할 때.

### 3. Ontology KG-RAG
**"흩어진 정보들을 연결해 새로운 사실을 추론해야 할 때"**
- 예: 의학 논문 수만 건을 분석해 "단백질 A와 질병 B의 연관 관계 경로"를 찾거나, 범죄 수사에서 인물 관계도를 분석할 때.

---

## 🔗 관련 리소스

- [PageIndex Framework 소개](https://pageindex.ai/blog/pageindex-intro)
- [Vectorless RAG Cookbook](https://docs.pageindex.ai/cookbook/vectorless-rag-pageindex)
- [Vision-based Vectorless RAG](https://docs.pageindex.ai/cookbook/vision-rag-pageindex)
- [FinanceBench 벤치마크 결과](https://github.com/VectifyAI/Mafin2.5-FinanceBench)

---

*문서 작성일: 2026-01-28*
